on:
  push:

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3

    - uses: actions/setup-go@v3
      with:
        go-version-file: './go.mod'

    - name: Install Buf
      run: |
        BIN="/usr/local/bin" && \
        VERSION="1.7.0" && \
          curl -sSL \
            "https://github.com/bufbuild/buf/releases/download/v${VERSION}/buf-$(uname -s)-$(uname -m)" \
            -o "${BIN}/buf" && \
          chmod +x "${BIN}/buf"

    - name: Check Buf
      run: |
        echo "Installed Buf version: $(buf --version)"
    
      
    # - name: Run distcheck
    #   run: make distcheck